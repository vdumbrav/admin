# –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤ –∫–≤–µ—Å—Ç–æ–≤

**–î–∞—Ç–∞**: 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ - —Ç—Ä–µ–±—É–µ—Ç UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è block_id

## üéØ **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**

### **‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

- **Preset ID –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –≤–∞–ª–∏–¥–Ω—ã—Ö –∫–ª—é—á–µ–π ('connect', 'join', 'action-with-post', 'seven-day-challenge', 'explore')
- **Block ID –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ì–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞ connect quest –≤ UI
- **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–≤–µ—Å—Ç–æ–≤ —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º resources
- **API Integration**: –í—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞–ø–ø—è—Ç—Å—è –≤ API (preset ‚Üî TaskResponseDto.preset, block_id ‚Üî blocking_task)

### **‚è≥ –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏**

- **Block ID UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å callback —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞ –≤ —Ñ–æ—Ä–º–µ
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ preset/block_id –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

## üìã **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å**

### **Block ID –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –ª–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
**–ù—É–∂–Ω–æ**: –ü–æ–¥–∫–ª—é—á–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```typescript
// –í —Ñ–æ—Ä–º–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞:
const findConnectQuestByProvider = (provider: string) => {
  // –ù–∞–π—Ç–∏ quest —Å { provider: provider, type: "connect" }
  // –í–µ—Ä–Ω—É—Ç—å quest.id –∏–ª–∏ null
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ applyBusinessRules:
applyBusinessRules(values, presetConfig, findConnectQuestByProvider);
```

**–õ–æ–≥–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å block_id –Ω–∞ ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ connect quest –¥–ª—è —Ç–æ–≥–æ –∂–µ provider

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
- [ ] Preset ID –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ API
- [ ] Block ID –∞–≤—Ç–æ–≤—ã–±–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ connect quest
- [ ] –§–æ—Ä–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞–ø–ø–∏—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ API –∑–∞–ø—Ä–æ—Å—ã
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑-–∑–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

## üéØ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è block_id**

### **API –º–∞–ø–ø–∏–Ω–≥**

```typescript
// Form ‚Üí API
{
  block_id: 123        // Form field
}
‚Üí
{
  blocking_task: { id: 123 }   // API field
}

// API ‚Üí Form
{
  blocking_task: { id: 123 }   // API response
}
‚Üí
{
  block_id: 123        // Form field
}
```

### **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**

```typescript
// –í applyBusinessRules() —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
if (
  updatedValues.provider &&           // –ï—Å—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä
  updatedValues.type !== 'connect' && // –ù–ï connect quest
  !updatedValues.block_id &&          // block_id –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  _findConnectQuestByProvider         // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞
) {
  const connectQuestId = _findConnectQuestByProvider(updatedValues.provider);
  if (connectQuestId) {
    updatedValues.block_id = connectQuestId;
  }
}
```

### **–ß—Ç–æ –≥–æ—Ç–æ–≤–æ**

- ‚úÖ –ü–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `form-types.ts` –∏ `form-schema.ts`
- ‚úÖ API –º–∞–ø–ø–∏–Ω–≥ –≤ `form-api-adapter.ts`
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ `business-rules.ts`
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
